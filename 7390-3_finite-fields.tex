% !TEX root = 7390-notes.tex





\section{Curves and abelian varieties over finite fields}


\subsection{Motivation from complex analysis}

Let's start with some motivation. Let $A$ be an abelian variety of dimension 
$d$ over $\dC$. We have seen that $G=A(\dC)$ is a compact connected complex Lie 
group. Moreover, $G$ is a \emph{torus}, i.e. is of the form $V/\Lambda$ for 
some complex vector space $V$ and lattice $\Lambda\subset V$. We can realize 
$G$ as a torus quite explicitly. 

Let $\fg=T_0 G$ be the Lie algebra of $G$. Since $G$ is commutative, the 
exponential map $\exp:\fg\to G$ is a group homomorphism, and so its image is 
open (since the map $\fg\to T_0 G$ is surjective). Since $G$ is connected, 
the image of $\exp:\fg\to G$ is all of $G$, and so we have an exact sequence 
\[\xymatrix{
  0 \ar[r] 
    & \Lambda \ar[r] 
    & \fg \ar[r]^-{\exp} 
    & G \ar[r] 
    & 0
}\]
There is a natural isomorphism $\Lambda\simeq \h_1(G,\dZ)$. Indeed, we can 
identify $\fg$ with the set of one-parameter subgroups of $G$, and such a 
subgroup has trivial exponential if and only if it is of the form 
$\dR\cdot \lambda$ for some $\lambda\in\Lambda$. But those are exactly the 
one-parameter subgroups that are also closed curves, hence 
$\Lambda\simeq \h_1(G,\dZ)$. Alternatively, we can use the pairing 
$\h_1(G,\dZ)\times \fg^\vee\to \dC$ given by 
$\langle \sigma,\omega\rangle=\int_\sigma\omega$ to define 
$\h_1(G,\dZ)\to \fg$, and show that it is an injection with image the kernel 
of the exponential map. 

For any $\phi\in \End(G)$, we have an induced map $\phi_\ast$ on 
$\h_1(G,\dZ)$. Tensoring with $\dQ$, we this gives a representation 
\[
  \End(G) \to \End_\dQ{\h_1(G,\dQ)} \simeq M_{2 d}(\dQ)
\]
This lets us take the characteristic polynomial $P_\phi\in \dQ[t]$ of $\phi$ 
for any $\phi\in \End(G)$. In fact, the degree $2 d$ polynomial 
$P_\phi$ is an element of $\dZ[t]$ because $\phi$ fixes the lattice 
$\h_1(G,\dZ)$ inside $\h_1(G,\dQ)$. 

Since $G=\fg/\Lambda$, we have $\torsion n G=\frac 1 n \Lambda/\Lambda$, and 
thus there are natural 
isomorphisms $\torsion n G\simeq \h_1(G,\dZ/n)$ for all integers $n\geqslant 2$. 
In light of this, we will think of $\torsion n G$ as a kind of algebraic avatar 
for $\h_1(G,\dZ/n)$. 
Unfortunately, there is no algebraic analogue of $\h_1(G,\dZ)$, but there is a 
good substitute. Let $\widehat\dZ=\varprojlim \dZ/n$ be the profinite 
completion of $\dZ$. The isomorphisms $G[n]\simeq \h_1(G,\dZ/n)$ are 
compatible, so we get an isomorphism of $\widehat\dZ$-modules 
\[
  \tate G := \varprojlim G[n] \xrightarrow\sim \varprojlim \h_1(G,\dZ/n) = \h_1(G,\widehat\dZ) \text{.}
\]
Since $\widehat\dZ=\prod_p \dZ_p$, we will consider $\tate G$ only one $p$-part at 
a time. This is important because if $A$ is an abelian variety over a field of 
characteristic $p>0$, the groups $\torsion{p^e}{A}$ are not well behaved, so the 
$p$-part of $\tate A=\varprojlim \torsion n A$ should be studied differently. 





\subsection{Tate modules}

Let $A$ be an abelian variety of dimension $d$ over an algebraically closed 
field $k$. For the moment, we will think of $\torsion n A$ as a scheme -- namely 
the fiber product 
\[\xymatrix{
  \torsion n A \ar[r] \ar[d] 
    & 0 \ar[d] \\
  A \ar[r]^-n 
    & A 
}\]
If $n$ is invertible in $k$, then we will have 
$\torsion n A\simeq (\dZ/n)^{\oplus 2 d}$. However, if $n=p$ and $k$ has 
characteristic $p$, then for some $r\leqslant d$, 
there will be an isomorphism of group schemes 
\[
   \torsion p A\simeq (\dZ/p)^r\times \alpha_p^{2(d-r)}\times \mu_p^r \text{.}
\]
Here $\alpha_p(R)=\{r\in R:r^p=0\}$ and $\mu_p(R)=\{r\in R:r^p=1\}$ for any 
$\dF_p$-algebra $R$. One might hope that $\torsion{p^e}{A}$ can be described just as 
easily for $e>1$, but this is not the case. The group schemes $\torsion{p^e}{A}$ can exhibit 
very complicated behavior as $e\to \infty$. Indeed, their ``formal inductive 
limit'' $\torsion{p^\infty}{A}$, called the Barsotti-Tate group of $A$, carries 
quite a lot of information about $A$. 

For the rest of this section, fix a prime $\ell$ that is invertible in $k$. 
The groups $\torsion{\ell^n}{A}$ come with natural surjections 
$\torsion{\ell^{n+1}}{A}\to \torsion{\ell^n}{A}$ given by $x\mapsto \ell \cdot x$. 

\begin{definition}
Let $A$ be an abelian variety. The \emph{$\ell$-adic Tate module of $A$} is 
\[
  \tate_\ell A = \varprojlim \torsion{\ell^n}{A} = \{(a_1,a_2,\dots) : a_n\in \torsion{\ell^n}{A},\ell x_{n+1}=x_n\}
\]
\end{definition}

The group $\tate_\ell A$ is a free $\dZ_\ell$-module of rank $2 d$. We write 
$\vtate_\ell A$ for $\tate_\ell(A)\otimes\dQ$; this is a 
$\dQ_\ell$-vector space of dimension $2 d$. The main idea is that 
$\torsion{\ell^n}{A}$, $\tate_\ell(A)$ and $\vtate_\ell(A)$ are algebraic analogues of 
$\h_1(A,\dZ/\ell^n)$, $\h_1(A,\dZ_\ell)$ and $\h_1(A,\dQ_\ell)$. 

Two things act on $T_\ell A$. The ring $\End(A)$ of endomorphisms 
of $A$ (as an abelian variety) defined over $k$ acts on each $\torsion{\ell^n}{A}$, and 
hence on $\tate_\ell$ and $\vtate_\ell$. Also, the group $G_k=\gal(\bar k/k)$ acts 
compatibly on each $\torsion{\ell^n}{A}$, so we get a representation 
\[
  \rho_{A,\ell}:G_k\to \operatorname{GL}(\tate_\ell A)\simeq \gl{2 d}{\dZ_\ell} \text{.}
\]
The action of $\End(A)$ and $G_k$ commute, so we actually have a 
representation $\End(A)[G_k] \to M_{2 d}(\dZ_\ell)$. We could also write this 
as $G_k \to \aut_{\End(A)\otimes \dZ_\ell}(\tate_\ell A)$. 

\begin{theorem}[Faltings]
Let $A,B$ be abelian varieties over a finitely generated field $k$. Then 
the natural map 
\[
  \hom_k(A,B)\otimes\dQ_\ell \to \hom_{\dQ_\ell[G_k]}\left(\vtate_\ell A,\vtate_\ell B\right)
\]
is an isomorphism. 
\end{theorem}

It follows that the functor 
$\vtate_\ell:\mathsf{AbVar}_k\otimes\dQ_\ell\to \mathsf{Rep}_{\dQ_\ell}(G_k)$ is 
fully faithful. 

\begin{corollary}
Abelian varieties $A,B$ over a finitely generated field $k$ are isogeneous if 
and only if $\vtate_\ell A$ and $\vtate_\ell B$ are isomorphic as 
$\dQ_\ell[G_k]$-modules.
\end{corollary}

\hard{
Define the ``global Tate module'' of $A$ to be 
\[
  \tate A = \prod_p \tate_p A \text{.}
\]
This is a $\widehat\dZ$-module that is isomorphic (if $k$ has characteristic 
zero) to $\widehat\dZ^{2d}$. It turns out that $T A$, as a $G_k$-module, has a 
natural interpretation in terms of \'etale fundamental groups. Suppose $k$ has 
characteristic zero (in characteristic $p>0$, we have to be careful about $\tate_p A$). If 
$U\to A_{\bar k}$ is an \'etale cover of $A_{\bar k}=A\times_k\spec(\bar k)$, then 
it turns out 
that $U$ can be given the structure of an abelian variety in such a way that 
$U\to A_{\bar k}$ is an isogeny. We can use a polarization of $A_{\bar k}$ to 
majorize $U\to A_{\bar k}$ by an isogeny $A_{\bar k}\to A_{\bar k}$, which is 
multiplication by some integer $n\geqslant 1$. It follows that 
$\pi_1(A_{\bar k}) \simeq \tate A$, though see \cite[10.37]{gm13} for an actual 
proof. The standard exact sequence for fundamental groups:
\[\xymatrix{
  1 \ar[r] 
    & \pi_1(A_{\bar k}) \ar[r] 
    & \pi_1(A) \ar[r] 
    & G_k \ar[r] 
    & 1
}\]
together with a section $G_k \to \pi_1(A)$ coming from $0\in A(k)$, 
induces a representation 
$\rho:G_k\to \aut\left(\pi_1(A_{\bar k})\right)$. This is exactly the action 
of $G_k$ on $\tate A$, so that we get a canonical isomorphism 
\[
  \pi_1(A) \simeq G_k \ltimes_\rho \tate A \text{.}
\]
In particular, for each prime $\ell$ invertible in $k$, we have an isomorphism 
$\pi_1(A)^{(\ell)} \simeq T_\ell A\ltimes_{\rho_{A,\ell}} G_k$, where 
$(-)^{(\ell)}$ denotes taking pro-$\ell$ completion. 
}

It is possible to define the $\ell$-adic representation 
$\rho_A:G_k\to \gl{2d}{\dZ_\ell}$ without introducing Tate 
modules. This is the way that things were done ``pre-Tate.'' 
Let $A[\ell^\infty] = \bigcup_{n\geqslant 1} A[\ell^n]$. As an 
abelian group, $A[\ell^\infty]\simeq (\dQ/\dZ)[\ell^\infty]$, which we denote 
by $\dZ(\ell^\infty)$ (such groups are called quasi-cyclic). It is easy to 
show that $\End \dZ(\ell^\infty)\simeq \dZ_\ell$ as topological 
rings, where $\End \dZ(\ell^\infty)$ is given the subset topology in 
$\prod_{\dZ(\ell^\infty)} \dZ(\ell^\infty)$ and $\dZ(\ell^\infty)$ has the 
discrete topology. Thus 
$\aut A[\ell^\infty]\simeq \gl{2 d}{\dZ_\ell}$. The induced 
homomorphism $G_k \to \gl{2 d}{\dZ_\ell}$ is continuous, and 
(after a change of basis) is the same as $\rho_{A,\ell}$. 





% notes on 10-17-2013
\subsection{Endomorphisms of abelian varieties}

Let $A$ be an abelian variety of dimension $d\geqslant 1$ over a field $k$, 
and fix a polarization $\lambda:A\to A^\vee=\picard_A^\circ$. 

\begin{definition}
An abelian variety $A$ is \emph{simple} if the only abelian subvarieties of $A$ 
defined over $k$ are $0$ and $A$.
\end{definition}

Note that this definition depends on $k$; it is possible for a simple variety 
to become non-simple after base change. We say $A$ is \emph{geometrically 
simple} if $A_L$ is simple for all fields $L\supset k$ (equivalently, if 
$A_{\bar k}$ is simple). 

\begin{theorem}[Poincar\'e]\label{thm:poincare-reducibility}
If $B\subset A$ is a nontrivial abelian subvariety, then there is another 
abelian subvariety $C\subset A$ such that the morphism $B\times C\to A$, 
$(b,c)\mapsto b+c$, is an isogeny. 
\end{theorem}
\begin{proof}
This is taken from \cite[I.10.1]{mi-av}. Let $i:B\hookrightarrow A$ be the 
inclusion, and let $i^\vee:A^\vee \to B^\vee$ be its dual map. Let 
$C=\ker(i^\vee\circ\lambda)^\circ$ be the connected component of the identity 
in the kernel of $A\xrightarrow\lambda A^\vee \xrightarrow{i^\vee} B^\vee$. 
Since dimension is additive on exact sequences of abelian varieties, we see 
that $\dim C\geqslant \dim A-\dim B^\vee=\dim A-\dim B$. It turns out that 
$(\lambda\circ i^\vee)|_B$ is a polarization of $B$, so $B\cap C$ is finite, 
hence dimension zero. It follows that $B\times C\to A$ is an isogeny. 
\end{proof}

There need not be a complement to $B$ ``one the nose.'' That is, there may not 
exist $C$ such that $A\simeq B\times C$. So the category of all abelian 
varieties is not semisimple, but the category of ``abelian varieties up to 
isogeny'' is. The theorem of Poincar\'e implies that for any abelian variety 
$A$, there exist simple abelian varieties $B_1,\dots,B_r$ such that $A$ is 
isogenous to $B_1\times\cdots \times B_r$. Standard arguments show that this 
decomposition is unique up to ordering and isogeny. 

Denote by $\mathsf{AbVar}_k^\mathrm{iso}$ the localisation of the category of 
abelian varieties over $k$ by the collection of all isogenies. Morphisms from 
$A$ to $B$ in $\mathsf{AbVar}_k^\mathrm{iso}$ are (equivalence classes) of 
formal factorizations 
\[\xymatrix{
  A 
    & C \ar[l]_-\phi \ar[r]^-f 
    & B
}\]
where $\phi$ is an isogeny. From \cite[5.12]{gm13}, %\cite[V.18]{mu08}
there exists an integer $n$ 
and an isogeny $\psi:A\to C$ such that $\phi\psi=n$. The commutative diagram:
\[\xymatrix{
  & C \ar[dl]_-\phi \ar[dr]^-f \\
  A & A \ar[l]|-n \ar[u]|-\psi \ar[r]|-{f\psi} \ar@{=}[d] & B \\
  & A \ar[ul]^-n \ar[ur]_-{f\psi}
}\]
shows that the factorization $f\circ \phi^{-1}$ is equivalent to 
$(f\psi)\circ n^{-1}$. It follows that $\mathsf{AbVar}_k^\mathrm{iso}$ is 
equivalent to the localisation of $\mathsf{AbVar}_k$ at all isogenies of the 
form $A\xrightarrow n A$. Thus 
\[
  \hom_{\mathsf{AbVar}_k^\mathrm{iso}}(A,B) = \hom_{\mathsf{AbVar}_k}(A,B)\otimes\dQ \text{.}
\]

Write $\End(A)=\hom_{\mathsf{AbVar}_k}(A,A)$ for ring of endomorphisms of $A$ 
as an abelian variety over $k$. If $n\circ f=0$ for some $f:A\to A$, then the 
image of $f$ is contained in the (discrete) subvariety $A[n]\subset A$. Since 
$f(A)$ is irreducible, we have $f=0$. Thus $\End A$ is torsion-free, so it 
embeds into the ring
\[
  \End^\circ A = \End_{\mathsf{AbVar}_k^\mathrm{iso}}(A) = \End(A)\otimes\dQ \text{.}
\]
Since $\End^\circ A$ can be defined in terms of the category 
$\mathsf{AbVar}_{k}^\mathrm{iso}$, it only depends on the isogeny class of 
$A$. In particular, an isogeny $f:A\to B$ induces an isomorphism 
$\End^\circ A\xrightarrow\sim \End^\circ B$. 
There is an obvious inclusion $\End^\circ(A)^\times\supset\aut(A)$, and  
$f\in \End^\circ(A)^\times$ if and only if $n f$ is an isogeny for some $n$.

The group $\End(A)$ has rank at most $(2 g)^2$. Over $\dC$, this is obvious, 
given the faithful action of $\End(A)$ on $\h_1(A(\dC),\dZ)\simeq \dZ^{2g}$. 
The general case in characteristic zero follows from the Lefschetz principle, 
or one can prove it directly as in \cite[IV.18.3]{mu08}. 

Poincar\'e's reducibility theorem shows that an abelian variety $A$ is 
isogenous to a product $B_1^{e_1}\times \cdots \times B_r^{e_r}$, where the 
$B_i$ are simple and pairwise non-isogenous over $k$. A standard argument 
(which works in any semisimple abelian category) shows that the rings 
$D_i=\End^\circ(B_i)$ are division algebras, and moreover 
\[
  \End^\circ(A) \simeq \prod_{i=1}^r M_{e_i}\left(D_i\right) \text{.}
\]
Thus the ring $\End^\circ(A)$ is semisimple, so we know that both the $e_i$ and 
the $D_i$ are uniquely determined by $A$. It follows that the decomposition 
type of $A$ can be inferred from the ring $\End^\circ(A)$. 

\begin{example}
If $A$ is two-dimensional, then $A$ is either simple or a product of elliptic 
curves. If $A$ is simple, then $\End^\circ(A)$ is a division algebra. If $A$ 
is isogenous to $E\times E'$ where $E$ and $E'$ are not isogenous, then 
$\End^\circ(A)\simeq \End^\circ(E)\times \End^\circ(E')$. On the other hand, if 
$A$ is isogenous to $E\times E$, then 
$\End^\circ(A)\simeq M_2\left(\End^\circ(E)\right)$. 
\end{example}





\subsection{Frobenius morphisms}

We have remarked several times that there is no good ``algebraic definition'' 
of $\h_1(X,\dQ)$ for varieties $X$ over a general field. Serre gave an 
example of a variety over $\overline\dF_p$ which shows not only that there 
isn't a good definition, but that such an homology group cannot exist. 

First, we need to discuss Frobenius morphisms. Let $p$ be a prime, $q$ a power 
of $p$, and $\dF_q$ the field with $q$ elements. Let $X$ be a nice variety over 
$\dF_q$. Choose an embedding $X\hookrightarrow \dP_{\dF_q}^n$. Write 
$\Phi_X:X\to X$ for the map that on projective coordinates is 
\[
  (a_0:\cdots:a_n) \mapsto (a_0^q:\cdots :a_n^q) \text{.}
\]
This is well-defined because $x\mapsto x^q$ is a ring homomorphism on 
$\dF_q$-algebras. So if $X$ is the zero-set of homogeneous polynomials 
$f_i\in \dF_q[x_0,\dots,x_n]$ and $a\in X$, then 
\[
  f_i(a_0^q:\cdots:a_n^q) = f_i(a_0:\cdots:a_n)^q = 0
\]
so $\Phi_X(a)\in X$. Note that we have to raise to the $q$-th power rather 
than the $p$-th power because $x\mapsto x^p$ does not fix all elements of 
$\dF_q$. 

There is a scheme-theoretic definition of $\Phi_X$ that allows us to talk about 
the Frobenius on arbitrary schemes over $\dF_q$. For a scheme $X/\dF_q$, let 
$\Phi_X:X\to X$ be the the identity on the underlying topological space of $X$, 
with $\Phi_X^\ast:\sO_X\to \sO_X$ the map $x\mapsto x^q$. If 
$X=V(f_1,\dots,f_r)\subset \mathbb{A}_{\dF_q}^n$, then it is easy to see that 
these definitions are equivalent, for both correspond to the usual Frobenius 
map on $\dF_q[x_1,\dots,x_n]/(f_1,\dots,f_r)$. 

It may seem confusing that the scheme-theoretic Frobenius is the identity on 
points, while our coordinate-wise definition raises elements to the $q$-th 
power. Actually, there is no contradiction. A point $x\in X$ with coordinates in 
$\dF_{q^n}$ should be thought of as a map $x:\spec(\dF_{q^n})\to X$. Raising 
those coordinates to the $q$-th power corresponds to composing $x$ with 
$\Phi_X$, or, equivalently, precomposing $x$ with the automorphism 
$x\mapsto x^q$ of $\dF_{q^n}$. 



\begin{example}[Serre]
Choose a prime $p\equiv 3\pmod 4$. Let $E/\overline\dF_p$ be the elliptic 
curve $y^2=x^3-x$. It is possible to give an explicit description of the 
division ring $D=\End^\circ(E)$. Fix $\alpha\in \dF_{p^2}$ such that 
$\alpha^2=-1$. Then $\phi:E\to E$, defined by $(x,y)\mapsto (-x,\alpha y)$, is 
a well-defined endomorphism. One has $\phi^2(x,y)=(x,-y)$, so $\phi^2=-1$ in 
$D$. Write $\Phi$ for the base-change of the Frobenius morphism on the elliptic 
curve $y^2=x^3-x$ over $\dF_p$ to $\overline\dR_p$. We have  
\[
  \Phi \phi(x,y) = (-x^p, \alpha^p y^p) = -(-x^p, \alpha^p y^p) = -\phi \Phi(x,y) \text{,}
\]
so $\phi \Phi=-\Phi \phi$ in $D$. It turns out that $\Phi^2=-p$ (see Example 
\ref{eg:serre}), so $D$ is the standard quaternion algebra with parameters 
$(-1,-p)$, i.e.  
\[
  D = \dQ\left\langle i,j,k : i^2=-1,j^2=-p,i j=k, j i=-k\right\rangle \text{.}
\]
\end{example}

Now we can show that ``$V=\h_1(E,\dQ)$'' cannot exist. If it did, we would expect 
it to be functorial in $E$, so there would be an action of $D$ on $V$. But we 
would also want $V$ to be two-dimensional over $\dQ$. Since $D$ is 
four-dimensional over $\dQ$, this would mean that $V$ has $D$-dimension $1/2$, 
which is nonsense. Alternatively, we would have an (injective) ring 
homomorphism $D\to \End(V)\simeq M_2(\dQ)$. Since both rings have the same 
dimension, this would yield $D\simeq M_2(\dQ)$. But $M_2(\dQ)$ has 
zero-divisors and $D$ does not, so this cannot be the case. 





% notes on 10-22-2013

Let $A$ and $B$ be abelian varieties over a field $k$. If $f:A\to B$ is an 
isogeny, the \emph{degree} of $f$ is $[k(A):k(B)]$ via the embedding 
$f^\ast:k(B) \to k(A)$ induced by $f$. Equivalently, $\deg(f)$ is the order 
of $\ker(f)$, considered as a group scheme. The extension $k(B)/k(A)$ is 
separable if and only if $f$ is \'etale, if and only if $\ker(f)$ is \'etale 
over $k$. If $f$ is \'etale, then the scheme-theoretic order of $\ker(f)$ is 
equal to $\# \ker (f)(\bar k)$. 

\begin{example}
Let $n\ne 0$, and consider the isogeny $[n]:A\to A$ that is multiplication by 
$n$. One can show that $\deg[n]=n^{2 d}$, where $d=\dim A$. To see this,  note 
that $A[n]=\ker[n]\simeq (\dZ/n)^{\oplus 2 d}$, at least if $n\in k^\times$. 
\end{example}

\begin{example}
If $A$ is defined over a finite field $\dF_q$, let $\Phi=\Phi_A:A\to A$ be the 
Frobenius. With some difficulty, one can show that $\Phi_A$ is purely 
inseparable (i.e. $k(A)/\Phi^\ast k(A)$ is purely inseparable) of degree 
$q^d$. Alternatively, $\ker(\Phi)(\bar k)=0$, so $\ker(f)$ is ``as far from 
\'etale as possible.'' 
\end{example}

Define a map $\deg:\End(A) \to \dZ$ as follows. If $f$ is an isogeny, let 
$\deg(f)$  be as above. If $f$ is not an isogeny, set $\deg(f)=0$. Given 
$f,g\in \End(A)$, one has $\deg(f g)=\deg(f)\cdot \deg(g)$. If one of $f,g$ is 
not an isogeny this is obvious, and if they are both isogenies, this follows 
from the multiplicativity of the degree of field extensions. As a special case, 
$\deg(n f)=n^{2 d}\deg(f)$. Using the multiplicativity of the degree map, we 
can extend it to $\deg:\End^\circ(A)\to \dQ$ by $\deg(f/n) = \deg(f)/n^{2 d}$. 
The degree map is \emph{not} additive. 

\begin{theorem}
Let $A$ be an abelian variety of dimension $d$. Then the map 
$\deg:\End^\circ(A) \to \dQ$ is a homogeneous polynomial of degree $2 d$. 
\end{theorem}

By this we mean the following. Choose a $\dQ$-basis $e_1,\dots,e_r$ of 
$\End^\circ(A)$. The theorem claims that there is a homogeneous polynomial 
$f\in \dQ[x_1,\dots,x_r]$ of degree $2 d$ such that 
\[
  \deg\left(c_1 e_1 + \cdots + c_r e_r\right) = f(c_1,\dots,c_r) \text{.}
\]
It follows that for any $\alpha\in \End(A)$, there exists a unique polynomial 
$P_\alpha\in \dQ[x]$, called the \emph{characteristic polynomial} of $\alpha$, 
such that $P_\alpha(n) = \deg(n-\alpha)$ for all $n\in \dZ$. It turns out that 
the polynomial $P_\alpha$ is monic, has degree $2 d$, and has integer 
coefficients. 

\begin{example}
Let $k$ be an imaginary quadratic field, $\fo=\fo_k$, and let 
$E=\dC/\fo$. One has $\End(E)=\fo$ and $\End^\circ(E)=k$. It turns out that the 
degree map $\deg:k\to \dQ$ is the classical norm map $N_{k/\dQ}$.
More generally, let $T$ be a complex torus, written $\dC^d/\Lambda$. Let 
$\alpha$ be an endomorphism of $T$. We can lift $\alpha$ to a linear map 
$\widetilde\alpha:\dC^d\to \dC^d$. One has 
\[
  \End(A) = \{\phi\in \End_\dC(\dC^d) : \phi(\Lambda)\subset \Lambda\} \text{.}
\]
Note that $\Lambda=\h^1(T,\dZ)$. It is straightforward to check that 
\[
  \deg(\alpha) 
    = \#\ker(\alpha) 
    = \# (\Lambda/\widetilde\alpha\Lambda) 
    = \det(\widetilde\alpha,\h_1(T,\dZ)) 
    = \det\left(\alpha_\ast,\h_1(T,\dZ)\right) \text{.}
\]
Thus $\deg(n-\alpha)=\det(n\cdot 1-\alpha_\ast,\h_1(T,\dZ))$, so 
$P_\alpha=\det\left(t\cdot 1-\alpha_\ast,\h_1(T,\dZ)\right)$. 
\end{example}

Fix a prime $\ell\in k^\times$. Recall that we have an inverse system of 
$G_k$-modules 
\[\xymatrix{
  A[\ell] 
    & \ar[l]_-\ell A[\ell^2]
    & \ar[l]_-\ell A[\ell^3] 
    & \ar[l] \cdots
}\]
where here we think of $A[\ell^n]$ as $A(\bar k)[\ell^n]$. The inverse limit is 
$T_\ell A=\varprojlim A[\ell^n]$, and we set $V_\ell A=T_\ell A\otimes \dQ$. We 
call $T_\ell A$ and $V_\ell A$ the \emph{$\ell$-adic Tate modules associated with 
$A$}. We will use $V_\ell$ as an $\ell$-adic avatar for 
$\h_1(A,\dQ_\ell)$. In fact, $T_\ell A\simeq \h^1(\et A,\dZ_\ell)^\vee$ as a 
$G_k$-module. (This is essentially a tautology. For lisse $\ell$-adic sheaves 
$\sF$ on $A$, one has 
$\h^\bullet(A,\sF) = \h^\bullet\left(\pi_1(A),\sF_0\right)$, where $\sF_0$ is 
the stalk of $\sF$ at $0$. For $\sF=\dZ_\ell$, this gives 
$\h^1(\et A,\dZ_\ell) = \hom(T A,\dZ_\ell) = (T_\ell A)^\vee$.)

\begin{theorem}
Let $\ell$ be a prime invertible in $k$. For any $\alpha\in \End(A)$, we have 
$P_\alpha = \det(t\cdot 1-\alpha_\ast,T_\ell A)$. 
\end{theorem}
\begin{proof}
This is nontrivial. See \cite[I.10.20]{mi-av}. 
\end{proof}

\begin{corollary}
For $\alpha\in \End^\circ(A)$, we have $P_\alpha(\alpha)=0$. 
\end{corollary}
\begin{proof}
We use the fact (see \cite[I.10.15]{mi-av}) that the natural map 
\[
  \End(A)\otimes\dZ_\ell \to \End_{\dZ_\ell} \left(T_\ell A\right)
\]
is injective. In $\End(T_\ell A)$, one has $P_\alpha(\alpha)=0$ by the 
Cayley-Hamilton theorem. Injectivity tells us that 
$P_\alpha(\alpha)=0$ in $\End(A)\otimes\dZ_\ell$, and since $\End(A)$ is 
torsion-free, we see that $P_\alpha(\alpha)=0$ in $\End(A)$.
\end{proof}

From the theorem, we see that the characteristic polynomial of $\alpha$ acting 
on $T_\ell A$ is in $\dZ[t]$, and is independent of $\ell$. This is highly 
non-obvious. Note that $A\mapsto T_\ell A$ is a functor from abelian varieties 
over $k$ to $\dZ_\ell$-representations of $G_k$. If $k$ has characteristic $p$ 
and we want to assign a $p$-adic representation of $G_k$ to an abelian variety, 
we have to work harder. Of course, $T_p A$ is a $\dZ_p$-module with a 
$G_k$-action, but there examples when $\rank_{\dZ_p} T_p A < 2\dim A$. In this 
case, instead of studying $T_p A$, (essentially the $p$-adic \'etale cohomology 
of $A$) one should study the crystalline or rigid cohomology of $A$. If the 
base field $k$ is perfect, these yield $W(k)$-modules with the ``correct'' 
rank. For a brief survey of crystalline cohomology, see \cite{il94}, and for an  
introduction to rigid cohomology, see \cite{st07}. 










% 10-24-13
\subsection{Abelian varieties over finite fields}\label{sec:ab-fin-fld}

Let $A$ be an abelian variety over $\dF_q$, where $q$ is a power of $p$. For 
example, $A$ could be the jacobian of a smooth curve. Recall that there is a 
distinguished endomorphism $\Phi=\Phi_A$ of $A$, called the Frobenius of $A$. 
If we embed $A$ into some projective space $\dP^n$, then in coordinates we 
have $\Phi(x_0:\cdots:x_n) = (x_0^q:\cdots:x_n^q)$. As a morphism of schemes, 
$\Phi$ is the identity on the underlying space of $A$, and is the $q$-th power 
map on $\sO_A$. Let $d\geqslant 1$ be the dimension of $A$. 


\subsection{Characteristic polynomial of Frobenius}\label{sec:char-frob}

Recall that there is a polynomial $P_A=P_{\Phi_A}\in \dZ[t]$ of degree $2 d$ 
such that $P_A(n)=\deg(n-\Phi_A)$ for all integers $n$. Also, if $\ell$ is a 
prime not dividing $q$, $P_A$ is the characteristic polynomial of $\Phi_\ast$ 
as a $\dZ_\ell$-linear map $\Phi_\ast:T_\ell A\to T_\ell A$. Thus we have a 
map $P:\mathsf{AbVar}_{\dF_q} \to \dZ[t]$. 

\begin{theorem}
If $A$ and $B$ are isogenous abelian varieties over $\dF_q$, then 
$P_A=P_B$.
\end{theorem}
\begin{proof}
Let $f:A\to B$ be an isogeny. For each $e$, we have an exact sequence 
\[\xymatrix{
  0 \ar[r] 
    & C \ar[r] 
    & A[\ell^e] \ar[r]^-f 
    & A[\ell^e] \ar[r]
    & 0\text{,}
}\]
where $C$ is independant of $e$ if $e\gg 1$ (since $C\subset \ker(f)$, a finite 
group). At the level of Tate modules, if $f_\ast(x)=0$, then 
$f(x_i)=0$ in $B[\ell^i]$ for all $i$, so each $x_i\in C$. But $C$ is a finite 
group, so it contains no nonzero sequences $(x_i)$ with $\ell x_{i+1}=x_i$ for 
all $i$. Thus $x=0$, so $f_\ast:T_\ell A\to T_\ell B$ is injective. Since 
$T_\ell A$ and $T_\ell B$ have the same rank, the map 
$f_\ast:V_\ell A\to V_\ell B$ is an isomorphism. (So far we have shown that 
$V_\ell A$ is isogeny-invariant over any field.) It is easy to check that 
$f\circ \Phi_A=\Phi_B\circ f$. It follows that 
$f_\ast\circ (\Phi_A)_\ast = (\Phi_A)_\ast \circ f$, and from this we see that 
$P_A=P_B$. 
\end{proof}

Alternatively, we could note that 
$T_\ell:\mathsf{AbVar}_k\to \mathsf{Rep}_{\dZ_\ell}(G_k)$ naturally descends to 
a functor 
$V_\ell:\mathsf{AbVar}_k\otimes\dQ\to \mathsf{Rep}_{\dZ_\ell}(G_k)\otimes\dQ$. 
Since $\mathsf{AbVar}_k\otimes\dQ=\mathsf{AbVar}_k^\text{iso}$ and 
$\mathsf{Rep}_{\dZ_\ell}(G_k)\otimes\dQ=\mathsf{Rep}_{\dQ_\ell}(G_k)$, this 
gives a functor 
\[
  V_\ell:\mathsf{AbVar}_k^\text{iso} \to \mathsf{Rep}_{\dQ_\ell}(G_k) \text{.}
\]
Here and elsewhere, if $\cA$ is an additive category, we write 
$\cA\otimes\dQ$ for the localization of $\cA$ at the class of morphisms 
$n\cdot 1_A$, $n\in \dZ\smallsetminus 0$.

It turns out that $P_A(0)=\deg(-\Phi_A)=\deg(\Phi_A)=q^g$; this can be verified 
by a direct (but messy) computation. A more interesting quantity is 
$P_A(1)=\deg(1-\Phi)$. Let $f=1-\Phi$. We claim that $f:A\to A$ is \'etale. 
Essentially, the map $d f:\operatorname{Lie}(A) \to \operatorname{Lie}(A)$ is 
the identity, and this comes down to the fact that the differential of 
Frobenius is zero (morally, $\frac{d}{dx}x^q=q x^{q-1}=0$). Thus 
$P_A(1)=\# \ker(f)$. Note that $f(x)=0$ if and only if $\Phi(x)=x$, i.e. 
$x\in A(\dF_q)$. So $P_A(1)=\#A(\dF_q)$. This has a surprising consequence: the 
quantity $\# A(\dF_q)$ is isogeny-invariant! This fails over number fields. 

Let's specialize to elliptic curves. Let $E$ be an elliptic curve over 
$\dF_q$. We have $P_E(t)=t^2-a t+q$, for some integer $a=a(E)$. One calls $a$ 
the trace of Frobenius. Indeed, $a=\trace(\Phi_{E,\ast},T_\ell)$ for 
all $\ell\ne p$. Since $\# E(\dF_p)=P_A(1)=1-a+q$, we could have defined 
$a=1+q-\# E(\dF_q)$. Since $\# \dP^1(\dF_q)=q+1$, we can think of $a$ as an 
arithmetically interesting ``error term'' measuring how much $E(\dF_q)$ and 
$\dP^1(\dF_q)$ differ. 

\begin{theorem}[Hasse bound]
We have $|a| \leqslant 2\sqrt q$, i.e. 
\[
  | \# E(\dF_q) - (q+1)| \leqslant 2\sqrt q \text{.}
\]
\end{theorem}
\begin{proof}
Let $n\in\dQ$, and take $P_E(n)=n^2-a n+q = \deg(n-\pi_E)\geqslant 0$. Thus 
$t^2-a t+q\geqslant 0$ for all $t\in \dR$. This implies $a^2-4 q\leqslant 0$, 
hence $|a|\leqslant 2\sqrt q$. 
\end{proof}

\begin{sagesilent}
  aps = []
  primes = []

  for i in range(0,300):
      p = Primes().unrank(i+2)
      n = EllipticCurve(GF(p),[0,0,0,1,0]).cardinality()
      aps.append(abs(p+1-n))
      primes.append(p)
  data = zip(primes, aps)
  data_plot = scatter_plot(data, markersize=10)
  func_plot = plot(2*sqrt(x), (1,2000), legend_label='$y=2x^{1/2}$', title='Hasse bound for $y^2=x^3+x$', aspect_ratio=10)
\end{sagesilent}

\begin{center}
  \sageplot[scale=.7]{data_plot+func_plot}
\end{center}


An equivalent way of formulating the Hasse bound is to claim that the complex 
roots of $P_E$ have absolute value $\sqrt q$. Indeed, one computes 
\[
  \left|\frac{a\pm \sqrt{a^2-4 q}}{2}\right| 
    = \left|\frac{a\pm \sqrt{4 q-a^2} i}{2}\right| 
    = \sqrt{\frac{a^2}{4} + \frac{4 q-a^2}{4}}
    = \sqrt q \text{.}
\]
If $6$ is a unit in $\dF_q$, then we can write $E$ as $y^2=x^3+a x+b$. It 
follows that 
\[
  \# E(\dF_q) = q+1 + \sum_{x\in \dF_q} \left(\frac{x^3+a x+b}{q}\right) \text{,}
\]
where $\big(\frac{c}{q}\big)=0$ if $c=0$, $1$ if $c$ is a square in $\dF_q$, 
and $-1$ otherwise. 

A special case of the Honda-Tate theorem says that for each integer $a$ with 
$|a|\leqslant 2\sqrt{q}$, there is an elliptic curve $E$ over $\dF_q$ with 
$a(E)=a$. So the Hasse bound is sharp. Moreover, we will see that $a(E)$, and 
hence $P_E$, determines $E$ up to isogeny. 

\begin{example}\label{eg:serre}
Fix a prime $p\equiv 3\pmod 4$, and consider the elliptic curve $E$ over 
$\dF_p$ given by the equation $y^2=x^3-x$. Recall that 
$\End^\circ(E_{\dF_{p^2}})$ was a quaternion algebra over $\dQ$, of type 
$(-1,-p)$. We used the fact that $\Phi_E^2=-p$, but didn't prove this. We 
know that $P_E(\Phi_E)=0$, i.e. $\Phi_E^2-a \Phi_E+p$, so all we need to do 
is show that $a=0$. Since $a=p+1-\# E(\dF_p)$, we just need to show that 
$\# E(\dF_p)=p+1$. The two sets 
\begin{align*}
  \{x\in \dF_p &: x^3-x\in (\dF_p^\times)^2\} \\
  \{x\in \dF_p &: x^3-x\notin (\dF_p)^2\}
\end{align*}
are bijective via $x\mapsto -x$. Call their common cardinality $m$. 
Since $\#\{x\in \dF_p:x^3-x=0\} = 3$, we have $p=2 m+3$, so 
$\# E(\dF_p)=2 m+3+1=p+1$. 
\end{example}


\subsection{Zeta functions}

Let $A$ be an abelian variety over $\dF_q$. We can consider its base extension 
$A_{\dF_{q^n}}$, which is an abelian variety over $\dF_{q^n}$. It has a 
characteristic polynomial $P_{A_{\dF_{p^n}}}$. Write 
\[
  P_A(t) = \prod_{i=1}^{2 d} (x-\omega_i) \text{,}
\]
where the $\omega_i\in \dC$. 

\begin{theorem}\label{thm:char-poly-power}
We have $P_{A_{\dF_{q^n}}}(t) = \prod_{i=1}^{2 d} (x-\omega_i^n)$. 
\end{theorem}
\begin{proof}
Let $A'=A_{\dF_{q^n}}$, and fix a prime $\ell\nmid q$. We have equality 
$V_\ell A = V_\ell A'$; write $V$ for this vector space. The Frobenius 
on $A$ induces a linear map $\Phi_{A,\ast}:V\to V$ with characteristic 
polynomial $P_A$. We have $\Phi_A^n=\Phi_{A'}^n$ as morphisms on $A'$, so 
$\Phi_{A',\ast} = \Phi_{A,\ast}^n$, whence the result. 
\end{proof}

Let's look at the case where $E/\dF_q$ is an elliptic curve. We have 
$P_E(t)=t^2-a t+q$, where $a=a(E)\in \dZ$ is the trace of Frobenius acting on 
$T_\ell E$ for any $\ell\nmid q$. Recall that since $P_E(1)=\# E(\dF_q)$, we 
get $a=q+1-\# E(\dF_q)$. Moreover, we showed that $|a|\leqslant 2\sqrt q$. 
Equivalently, the roots of $P_E$ have absolute value $q^{1/2}$. 

\begin{theorem}[Weil]
Let $A$ be an abelian variety over $\dF_q$. Then the roots of $P_A$ in $\dC$ 
have absolute value $q^{1/2}$. 
\end{theorem}

Back to the case of elliptic curves. We can factor 
$P_E(t)=(t-\omega_1)(t-\omega_2)$ where $\omega_1+\omega_2=a$ and 
$\omega_1 \omega_2 = q$. We know that 
\[
  P_{E_{\dF_{q^n}}}(t) = (x-\omega_1^n)(x-\omega_2^n) 
    = x^2 - (\omega_1^n + \omega_2^n) t + q^n \text{,}
\]
so $\# E(\dF_{q^n}) = q^n+1 - (\omega_1^n+\omega_2^n)$. Recall that the 
\emph{zeta function} of $E$ is the formal power series 
\[
  Z(E,t) = \exp\left(\sum_{n\geqslant 1} \# E(\dF_{q^n}) \frac{t^n}{n} \right) \text{.}
\]
We can compute:
\begin{align*}
  \sum_{n\geqslant 1} \# E(\dF_{q^n}) \frac{t^n}{n} 
    &= \sum \frac{(q t)^n}{n} + \sum \frac{t^n}{n} - \sum \frac{(\omega_1 t)^n}{n} - \sum \frac{(\omega_2 t)^n}{n} \\
    &= -\log(1-q t) - \log(1-t) + \log(1-\omega_1 t) + \log(1-\omega_2 t) \\
    &= \log\left(\frac{(1-\omega_1 t)(1-\omega_2 t)}{(1-t)(1-q t)} \right) \text{.}
\end{align*}
It follows that 
\[
  Z(E,t) = \frac{1-a t+q t^2}{(1-t)(1-q t)} \text{.}
\]
Note that the numerator is $t^2 P_E(1/t)$. 

\begin{example}
Let $E/\dF_5$ be the elliptic curve $y^2=x^3+x+2$. One can check directly that 
$E(\dF_5) = \{0,(1,\pm 2), (4,0)\}$. Thus $\# E(\dF_5) = 4=5+1-a$, so $a=2$. 
It follows that $P_E(t) = t^2-2 t+5$ and 
$Z(E,t) =\frac{1-2 t+5 t^2}{(1-t)(1-5 t)}$. In this case, 
\[
  \sum_{n\geqslant 1} \# E(\dF_{5^n}) t^n = t\frac{d}{dt}\log Z(E,t)
    = 4t + 32 t^2 + 148 t^3 + 640 t^4 + 3044 t^5 + O(t^6) \text{.}
\]
\end{example}

One puts $\zeta(E,s) = Z(E,q^{-s})$. The fact that the zeros of 
$P_E$ have absolute value $q^{1/2}$ implies that the zeros of 
$\zeta(E,s)$ have real part $\frac 1 2$. So the ``Riemann hypothesis'' for 
$\zeta(E,s)$ is a theorem!


\subsection{Honda-Tate theory}

\begin{definition}
A \emph{$q$-Weil number} is an algebraic integer $\omega\in \bar\dQ$ such that 
under any embedding $\dQ(\omega)\hookrightarrow\dC$, the image of $\omega$ has 
absolute value $q^{1/2}$. 
\end{definition}

Two $q$-Weil numbers $\omega,\omega'$ are \emph{conjugate} if there exists a 
field isomorphism $\sigma:\dQ(\omega) \to \dQ(\omega')$ such that 
$\sigma(\omega)=\omega'$, i.e. $\omega$ and $\omega'$ lie in the same 
$G_\dQ$-orbit in $\bar\dQ$. Equivalently, $\omega$ and $\omega'$ are conjugate 
if they have the same minimal polynomial over $\dQ$. 

It is easy to check if a given algebraic integer $\omega$ is $q$-Weil. Let 
$k=\dQ(\omega)$, and classify embeddings $k\hookrightarrow \dC$. The number 
$\omega$ is $q$-Weil if and only if $\omega\bar\omega = q$ in each such 
embedding.  

\begin{theorem}[Honda-Tate]
Let $A$ be an abelian variety over $\dF_q$. 
\begin{enumerate}
  \item If $A$ is simple, then $P_A(t) = h(t)^e$ for an irreducible polynomial 
    $h\in \dZ[t]$ and $e\geqslant 1$.
  \item The map 
    \[
      \{\text{isogeny classes of simple abelian varieties over $\dF_q$}\} \to \{\text{conjugacy classes of $q$-Weil numbers}\}
    \]
    sending $A$ to the set of roots in $\bar\dQ$ of $P_A$, is a bijection. 
  \item Fix $h\in \dZ[t]$ the minimal polynomial of a $q$-Weil number. Then 
    there exists a unique $e\geqslant 1$ such that $h^e$ is $P_A$ for a simple 
    $A/\dF_q$. In fact, it is the smallest $e\geqslant 1$ such that 
    \begin{itemize}
      \item $h(0)^e>0$ 
      \item for every monic $\dQ_p$-irreducible factor $g\in \dQ_p[t]$ of $h$, 
        we have $v_p(g(0)^e)\in r\dZ$, where $q=p^r$. 
     \end{itemize}
\end{enumerate}
\end{theorem}

The injectivity of the map is due to Tate, and the surjectivity is due to 
Honda. 

\begin{corollary}
The map 
\[
  \{\text{isogeny classes of elliptic curves over $\dF_q$}\} \to \{a\in \dZ:|a|\leqslant 2\sqrt q\}
\]
given by $E\mapsto a(E)=\trace(\Phi_E,T_\ell E) = q+1-\# E(\dF_q)$ is a bijection. 
\end{corollary}

\begin{example}
The number $\sqrt 5 i$ is $5$-Weil, with minimal polynomial $t^2+5$. The 
conditions of part 3 of the Honda-Tate theorem show that there exists an 
abelian variety $E$ over $\dF_5$ such that $P_E=t^2+5$. As an exercise, check 
that $E:y^2=x^3+1$ works. 
\end{example}

\begin{example}
The number $\sqrt 5$ is $5$-Weil with minimal polynomial $t^2-5$. It is easy to 
check that $e=2$, so there is a (simple) abelian variety $A$ over $\dF_5$ such 
that $P_A(t) = (t^2-5)^2$. One can show that $P_{A_{\dF_{25}}}(t) = (t-5)^4$. 
Since $5$ is a $25$-Weil number, there exists an elliptic curve $E$ over 
$\dF_{25}$ such that $P_E(t)=(t-5)^2$. We will find that $A_{\dF_{25}}$ is 
isogenous to $E\times E$. 
\end{example}





% notes on 10-31-2013

\begin{lemma}
Let $A$ and $B$ be abelian varieties over $\dF_q$. Then 
$P_{A\times B}=P_A\times P_B$. 
\end{lemma}
\begin{proof}
On $A\times B$, we have $\Phi_{A\times B}=\Phi_A\times \Phi_B$. Fix 
$\ell\nmid q$, and consider $V_\ell(A\times B)=V_\ell A\oplus V_\ell B$. On 
$V_\ell(A\times B)$, we have 
$\Phi_{A\times B,\ast} = \Phi_{A,\ast}\times \Phi_{B,\ast}$. So it comes down 
to showing that the characteristic polynomial of $f\oplus g$ is the product of 
the respective characteristic polynomials. But this is obvious. 
\end{proof}

For any abelian variety $A$ over $\dF_q$, the Poincar\'e reducibility theorem 
implies $A$ is isogenous to $\prod B_i^{n_i}$, where the $B_i$ are simple and 
pairwise non-isogenous. The lemma gives 
$P_A=P_{\prod B_i^{n_i}} = \prod P_{B_i}^{n_i}$, where the $P_{B_i}$ are powers 
of distinct irreducible polynomials. If we started with $P_A$, we could factor 
it as $P_A=\prod h_i^{m_i}$, where the $h_i$ are distinct monic irreducible 
integral polyomials. For each $h_i$, there is a unique (and computable) 
$e_i\geqslant 1$ such that $h_i^{e_i} = P_{B_i}$. Thus 
$P_A=\prod P_{B_i}^{n_i}$, where $n_i=m_i/e_i$. 

\begin{theorem}
Let $A$ and $B$ be abelian varieties over $\dF_q$. Then $A$ and $B$ are 
isogenous if and only if $P_A=P_B$.
\end{theorem}

Thus, if $\vtate_\ell A$ and $\vtate_\ell B$ are isomorphic as 
$G_{\dF_q}$-modules, $A$ and $B$ are isogenous. The converse holds under the 
assumption that $\vtate_\ell A$ and $\vtate_\ell B$ are semisimple (which is 
known, but not easy to prove). 

Let $A$ be a simple abelian variety over $\dF_q$. Let 
$D=\End^\circ(A)=\End_{\dF_q}(A)\otimes\dQ$; this is a division algebra over 
$\dQ$. Then the field $F=\dQ(\Phi_A)$ is contained in the 
center of $D$. 

\begin{theorem}
Let $A$ be a simple abelian variety over $\dF_q$. Then 
\begin{enumerate}
  \item $D=\End^\circ(A)$ has center $F=\dQ(\Phi_A)$ 
  \item $\dim_F D = e^2$, where $P_A =h^e$ with $h$ irreducible
  \item $2\dim A = e\cdot [F:\dQ]$. 
\end{enumerate}
\end{theorem}

The division algebra $D$ can be described explicitly from $\Phi_A$. You can 
give local invariants that classify it over each $F_v$, where $v$ ranges over 
the places of $F$. 

The previous remark merits some explanation. Let $k$ be an arbitrary field. 
Let $\brauer(k)$, be the set of isomorphism classes of division algebras with 
center $k$. The set $\brauer(k)$ has a highly non-obvious group structure. For 
$D,D'\in \brauer(k)$, there is a unique $D''\in \brauer(k)$ such that 
$D\otimes_k D'\simeq M_n(D'')$ for some $n$. Set $D''=D+D'$. Under this 
operation, $\operatorname{Br}(k)$ is an abelian group, where the inverse of 
$D$ is opposite algebra $D^\circ$. It turns out (see 
\cite[X.5]{se79}) that $\brauer(k)$ is naturally isomorphic to the Galois 
cohomology group $\h^2(G_k,(k^s)^\times) = \h^2(k,\dG_m)$. If $k$ is a 
nonarchimedean local field, there is a canonical isomorphism 
$\brauer(k) \to \dQ/\dZ$, so to specify a division algebra with center $k$ is 
the same as giving an element of $\dQ/\dZ$. 

Suppose $k$ is a number field. If $v$ is a place of $k$, then the operation 
$D\mapsto D\otimes_k k_v$ defines a homomorphism $\brauer(k) \to \brauer(k_v)$. 
It turns out that the image of $D$ under this map is $0$ for all but finitely 
many $v$. In fact, we have an exact sequence
\[\xymatrix{
  0 \ar[r] 
    & \brauer(k) \ar[r] 
    & \displaystyle\bigoplus_v \brauer(k_v) \ar[r] 
    & \dQ/\dZ \ar[r] 
    & 0 \text{.}
}\]
This is very deep -- at the level of the main theorems of class field theory. 
For a proof of this (and the rest of class field theory) see 
\cite[2.86]{sh92}. In any case, to give an element of $\brauer(k)$, it is 
sufficient to  give an element of $\brauer(k_{v_i})=\dQ/\dZ$ for finitely many 
finite places $v_1,\dots,v_r$ and an element of $\brauer(\dR)=\dZ/2$ for each 
real place of $k$.

\begin{example}
Let $E$ be an elliptic curve over $\dF_q$ with $P_E=x^2+q$. Then $\Phi_E^2=-q$, 
so $F=\dQ(\Phi_E)\simeq\dQ(\sqrt{-q})$. It follows that $e=1$, so  
$\End^\circ(E)=\dQ(\Phi_E)$. 
\end{example}

\begin{example}
Let $E$ be an elliptic curve over $\dF_q$ such that $P_E$ is reducble. Then 
$P_E(t)=(t-\omega)^2$, where $\omega\in \dZ$ with $|\omega|=q^{1/2}$. It 
follows that $q$ is a square and $\omega=\pm q^{1/2}$. Then 
$\Phi_E=\omega\in \dZ$, so $F=\dQ(\Phi_E)=\dQ$ and $e=2$. The division ring  
$\End^\circ (E)$ is a quaternion algebra (we saw an example earlier). 
\end{example}


\subsection{Curves and their jacobians} % maybe the Weil conjectures -> new section?

Here and elsewhere we will consider alternating sums 
\[
  \sum (-1)^i \trace(f_i,H_i)
\]
where $f_\bullet:H_\bullet \to H_\bullet$ is a graded linear endomorphism of a 
locally finite-dimensional graded vector space. We will write 
$\trace(f_\bullet,H_\bullet)$, or sometimes just $\trace(f,H)$, for this 
alternating sum. 

Let's start with some motivation. Let $X$ and $Y$ be smooth oriented manifolds 
of dimension $n$. Let $f:X\to Y$ be a smooth map that is finite-to-one. For 
$x\in X$, we can choose small neighborhoods $U,V$ of $x$ and $y=f(x)$ such 
that $U$ and $V$ are $n$-balls, and for which $f:U\to V$ is injective. 
The relative homology $\h^n(U,U\smallsetminus x)$ and $\h^n(V,V\smallsetminus y)$ are 
both isomorphic to $\dZ$ with a canonical basis coming from the orientation. 
With respect to these bases, $f_\ast$ is multiplication by an integer, called 
the \emph{degree of $f$ at $x$}, and denoted $\deg_x f$. 

\begin{theorem}[Lefschetz]
Let $f:X\to X$ be smooth with finitely many nondegenerate fixed points. Then 
we have 
\[
  \sum_{x\in X^f} \deg_x f = \trace(f_\ast,\h_\bullet(X,\dQ))
\]
\end{theorem}
If $f$ is ``well-behaved'' around each fixed point, the local degrees are all 
one, so the theorem reduces to $\# \{x\in X:f(x)=x\}=\trace(f_\ast,\h_\bullet(X,\dQ))$. If 
$X$ is a Riemann surface, the alternating sum is 
\[
  \trace(f_\ast,\h_0(X,\dQ)) - \trace(f_\ast,\h_1(X,\dQ)) + \trace(f_\ast,\h_2(X,\dQ))\text{.}
\]

There is an analogue of the Lefschetz fixed point theorem for \'etale 
cohomology. Let $X$ be a nice variety over a field $k$, and let 
$f:X\to X$ be an arbitrary morphism. Let $\ell$ be a prime invertible in $k$. 
It is proven in \cite[IV.3.3]{de77} that one has 
\[
  (\Gamma_f \cdot \Delta_X) = \trace(f^\ast,\h^\bullet(X,\dQ_\ell))\text{.}
\]
Here $(\Gamma_f\cdot \Delta)$ is the intersection number of the graph of $f$ 
and the diagonal as cycles in $X\times X$. If $k=\dF_q$ and $f=\Phi$ is the 
Frobenius on $X$, then $\Gamma_\Phi$ and $\Delta_X$ intersect transversally 
with multiplicity one, so 
$(\Gamma_\Phi\cdot \Delta_X)=\# X^\Phi=\# X(\dF_q)$. More generally (see 
\cite[IV.3.7]{de77}) we have
\[
  \# X(\dF_{q^n}) = \sum (-1)^i \trace({\Phi^n}^\ast, \h^i(X,\dQ_\ell)) \text{.}
\]

If $X=C$ is a nice curve over $\dF_q$, we can be much more concrete. The 
alternating sum has only three terms:
\[
  \# C(\dF_{q^n}) = \trace(\Phi^n,\h^0(C,\dQ_\ell)) - \trace^1(\Phi^n,\h^0(C,\dQ_\ell)) + \trace(\Phi^n,\h^2(C,\dQ_\ell))
\]
One can show that the trace on $\h^0(C,\dQ_\ell)$ is $1$, while the trace on 
$\h^2(C,\dQ_\ell)$ is $q^n$. Let $J$ be the jacobian of $C$. Since 
$\h^1(C,\dQ_\ell)^\vee \simeq V_\ell J$ as $G_{\dF_q}$-modules, we have 
\[
  \# C(\dF_{q^n}) = q^n+1 - \trace(\Phi_\ast^n, V_\ell J) \text{.}
\]
The following theorem is a straightforward consequence of the Lefschetz fixed 
point theorem and Theorem \ref{thm:char-poly-power}. 

\begin{theorem}\label{thm:weil-curve}
Let $C$ be a nice curve over $\dF_q$ of genus $g$. Let $J$ be its jacobian, and 
write $P_J(t) = \prod_{i=1}^{2 g} (x-\omega_i)$. Then 
\[
  \# C(\dF_{q^n}) = q^n+1 - (\omega_1^n + \cdots + \omega_{2 g}^n) \text{.}
\]
\end{theorem}

\begin{corollary}
$|\# C(\dF_{q^n}) - (q^n+1)| \leqslant 2 g q^{n/2}$.
\end{corollary}





% notes on 11-05-2013

\begin{example}
If $C$ is a nice curve of genus zero over $\dF_q$, then we know that 
$|\# C(\dF_q) - (q+1)| \leqslant 0$, so $\# C(\dF_q) = q+1$. In particular, 
$C$ has a $\dF_q$-rational point, whence $C\simeq \dP_{\dF_q}^1$. 
\end{example}

\begin{example}
If $C$ is a nice curve of genus one over $\dF_q$, then we know that 
$\# C(\dF_q) \geqslant q+1-2\sqrt q = (\sqrt q-1)^2 > 0$. So once again $C$ has 
a $\dF_q$-rational point, hence $C$ is an elliptic curve. 
\end{example}

It is a good exercise to find a curve $C$ of genus $g=2$ for which 
$C(\dF_q)=\varnothing$. (\textbf{do this})

\begin{example}
Let $C$ be a nice curve of genus two over $\dF_4$. We know that 
$\# C(\dF_4) \leqslant 4+1+2\cdot 2\cdot \sqrt 4 = 13$. We claim that 
$\# C(\dF_4) \ne 13$, i.e. the Hasse bound is not sharp. To see this, note 
that $\# C(\dF_4) = 5 - (\omega_1+\omega_2+\omega_3+\omega_4)$, where each 
$\omega_i$ has absolute value $2$. Thus 
$\# C(\dF_4) \leqslant 5 + (2+2+2+2)$, with equality if and only if each 
$\omega_i=-2$. If each $\omega_i=-2$, then we would have 
$P_J=(t+2)^4$. This would imply 
\[
  \# C(\dF_{16}) = 16+1-(\omega_1^2+\omega_2^2+\omega_3^2+\omega_4^2) = 16+1-(4+4+4+4)=1
\]
which contradicts $C(\dF_4)\subset C(\dF_{16})$. 
\end{example}

\begin{example}[Hermite curve]
Let $C$ be the curve over $\dF_p$ defined by the equation 
$x^{p+1}+y^{p+1}+z^{p+1}=0$. Then $C\subset \dP^2$ is a nice curve, and 
$\# C(\dF_p)=p+1$. This is because for $(x,y,z)\in \dF_p^3$, we have 
$x^{p+1}+y^{p+1}+z^{p+1}=x^2+y^2+z^2$. This is the equation of a genus zero 
curve. It turns out that $\# C(\dF_{p^2}) = p^3+1$. One way to prove this is 
to use the fact that the map $\dF_{p^2}^\times \to \dF_p^\times$ given by 
$a\mapsto a^{p+1}$ is surjective. The curve $C$ has degree 
$p+1$, so its genus is $g=\frac{(d-1)(d-2)}{2}$, which in our case is 
$\frac{p(p-1)}{2}$. We know that 
\[
  p^3+1 = \# C(\dF_{p^2}) \leqslant p^2+2 g\sqrt{p^2} = p^3+1 \text{.}
\]
In particular, our bound on $\# C(\dF_{p^2})$ is sharp in this case. The fact 
that $\# C(\dF_{p^2}) = p^2+1+2\sqrt{p^2}$ tells us that 
$P_{J_{\dF_{p^2}}}(t) = \prod (t-\omega_i^2)$ with each $\omega_i^2=-p$. In 
other words, $P_{J_{\dF_{p^2}}}(t) = (t+p)^{2g}$. Each 
$\omega_i = \pm \sqrt p i$, so $p+1=\# C(\dF_p) = (p+1) - \sum \omega_i$ 
tells us that half of the $\omega_i=\sqrt p i$, and half are 
$-\sqrt p i$. In other words, 
\[
  P_J(t) = (t^2-\sqrt p i)^g (t+\sqrt p i)^g = (t^2+p)^g
\]
Thus $J$ is isogenous to $E^g$, where $E$ is an elliptic curve over $\dF_p$ 
with $a(E)=0$. 
\end{example}










\subsection{The Weil conjectures}

Recall that for a curve $C$ of genus $g$ over $\dF_q$, the \emph{zeta function} 
of $C$ is the formal power series 
\[
  Z(C,t) = \exp\left(\int \sum_{n\geqslant 1} \# C(\dF_{q^n}) t^n\, \frac{dt}{t}\right)
    = \exp\left( \sum_{n\geqslant 1} \# C(\dF_{q^n}) \frac{t^n}{n}\right) \text{.}
\]
By Theorem \ref{thm:weil-curve}, there exist $q$-Weil numbers 
$\omega_1,\dots,\omega_{2 g}$ such that for all $n$, 
\[
  \# C(\dF_{q^n}) = q^n+1 - (\omega_1^n + \cdots + \omega_{2 g}^n) \text{.}
\]
This allows us to compute:
\begin{align*}
  Z(C,t) &= \exp(-\log(1-q t) - \log(1-t) + \log(1-\omega_1 t) + \cdots + \log(1-\omega_{2 g} t)) \\
    &= \frac{(1-\omega_1 t)\cdots (1-\omega_{2g} t)}{(1-t)(1-q t)} \text{.}
\end{align*}
Let $J$ be the jacobian of $C$. Then the numerator is the 
``reverse'' $t^{2g} P_J(1/t)$ of $P_J(t)$. For 
\emph{any} nice variety $X$ of dimension $d$ over $\dF_q$, one can define 
$Z(X,t)$ in the same way, and one has the \emph{Weil conjectures}. These state 
that 
\begin{enumerate}
  \item $Z(X,t)$ is a rational function of the form 
    $\prod_{i=0}^{2 d} P_i(X,t)^{(-1)^{i+1}}$, where the $P_i(X,t)$ are 
    integral polynomials with $P_0(X,t)=1-t$ and $P_{2 d}(X,t) = 1-q^d t$. 
  \item $Z(X,1/q^n t) = \pm q^{d\chi/2} t^\chi Z(X,t)$, where 
    $\chi=(\Delta_X\cdot \Delta_X)$ is the Euler characteristic of $X$
  \item Each $P_i(X,t) = \prod_j (1 - \omega_j t)$, where the $\omega_j$  are 
    $q^i$-Weil. 
\end{enumerate}
See \cite{we49} for the original (and surprisingly modern) statement of the 
Weil conjectures. For a proof, see \cite{de74}, or \cite{mi-ec} for a proof in 
English. Note that our $P_i(X,t)$ are \emph{not} the same as 
$P_{\jac C}(t)$ for a curve $C$; $P_1(C,t)$ is the ``reverse polynomial'' of 
$P_J(t)$. Also, note that because of conjecture 3, each 
$P_i$ is relatively prime to the others, i.e. in 
$Z(X,t) = \prod P_i(X,t)^{(-1)^{i+1}}$ there is no cancellation. 

Let's relate our approach to the Weil conjectures for a curve to the general 
proof. The fact that 
\[
  Z(C,t) = \frac{\det(1-\Phi^\ast t,V_\ell J)}{(1-t)(1-q t)}
\]
has a general analogue. For a graded vector space $H^\bullet$ and a graded 
endomorphism $f^\bullet:H^\bullet \to H^\bullet$, write 
\[
  \det(f,H^\bullet) = \prod_i \det(f^i, H^i)^{(-1)^i} \text{.}
\]
There is a general theorem (see \cite[1.5.4]{de74}) that
\[
  Z(X,t) = \frac{1}{\det(1-\Phi^\ast t,\h^\bullet(X,\dQ_\ell))} \text{.}
\]
For $X=C$ a nice curve of genus $g$, the map $\Phi^\ast$ on $\h^0$ is 
the identity, and on $\h^2$ is multiplication by $q^d$. For any endomorphism 
$\theta$ of a $d$-dimensional vector space $V$, one has 
\[
  \det(t\cdot 1-\theta) = t^d \det(1-\theta t^{-1})
\]
In other words, $\det(1-\theta t)$ is the ``reverse'' of the characteristic 
polynomial of $\theta$. Thus $P_J(t)$ is the reverse of the polynomial 
$P_1(C,t)$, and the roots of $P_J(t)$ are 
$q$-Weil if and only for $P_1(C,t) = \prod_i (1-\omega_i t)$, the 
$\omega_i$ are $q$-Weil. 

Next, we check that the functional equation holds for $Z(C,t)$. We know that 
$P_J(t) = \prod (t-\omega_i)$, where the $\omega_i$ are $q$-Weil. For each 
root $\omega$ of $P_J$, $\bar\omega$ is also a root that is $q$-Weil, so 
$\omega \bar\omega = q$, i.e. $\bar\omega = q/\omega$. It follows that the 
polynomials $t^{2 g} P_J(q/t)$ and $P_J(t)$ have the same roots, so they are 
equal up to a constant (which turns out to be $q^g$). This yields the 
functional equation.

Requirement 3 in the statement of the Weil conjectures is often called the 
\emph{Riemann hypothesis} for the variety. For $X=C$ a nice curve of genus 
$g$, it is easy to motivate this. Define $\zeta(C,s) = Z(X,q^{-s})$. This is a 
holomorphic function of $s$ on some $\{s\in \dC:\Re s>c\}$, and has a 
meromorphic continuation to the complex plane. By definition, 
$\zeta(C,s) = 0$ if and only if $Z(C,q^{-s}) = 0$, which happens if and only if 
$q^{-s} = \omega_i$ for some $i$. Since the $\omega_i$ are $q$-Weil, this tells 
us that $|s|=\log_q(q^{1/2}) = \frac 1 2$. The requirement that zeros of 
$\zeta(C,s)$ have absolute value $\frac 1 2$ is commonly called the Riemann 
hypothesis for $C$. Note that the Riemann hypothesis for curves is a theorem, 
unlike the (much more difficult) Riemann hypothesis for $\zeta(\spec(\dZ),s)$. 





\subsection{Generalizing the Weil conjectures}

Proving that $Z(X,t)$ is rational is the easiest part of the Weil conjectures. 
Indeed, Dwork proved it before Deligne, using $p$-adic analytic methods. The 
cohomological proof is almost a triviality, following from basic properties of 
\'etale cohomology. Let $X$ be a nice variety over $\dF_q$, and fix a prime 
$\ell$ not dividing $q$. Write $\h(X)$ for 
$\h^\bullet(X_{\bar\dF_q},\dQ_\ell)$. This is a graded $\dQ_\ell$-vector space 
with an action of $G_k$. In fact, $\h(X)$ is a graded-commutative 
$\dQ_\ell$-algebra, with multiplication the cup product. We have the following 
trace theorem \cite[II.3.1]{de77}. 
\[
  \# X(\dF_{q^n}) = \trace({\Phi^\ast}^n,\h(X)) 
\]
where $\Phi=\Phi_X$ is the Frobenius of $X$. Now we use the following theorem 
from linear algebra

\begin{theorem}\label{thm:graded-trace}
Let $V$ be a finite-dimensional graded vector space over a field $k$ of 
characteristic zero, and let $\theta:V\to V$ be a $k$-linear map. There is an 
equality of formal power series 
\[
  \sum_{n\geqslant 1} \trace(\theta^n, V) t^n = t\frac{d}{dt} \log\left(\frac{1}{\det(1-\theta t)}\right) \text{.}
\]
\end{theorem}
\begin{proof}
See \cite[II.3.3]{de77}. Essentially, one reduces to the case where $V$ 
is concentrated in degree zero and $k$ is algebraically closed. Then use 
the fact that $\theta$ can be diagonalized. 
\end{proof}

Summing the trace formula over $n$ gives 
\[
  \sum_{n\geqslant 1} \# X(\dF_{q^n}) t^n = \sum_{n\geqslant 1} \trace({\Phi^\ast}, \h(X)) \text{.}
\]
We can apply Theorem \ref{thm:graded-trace} to conclude that 
\[
  \sum_{n\geqslant 1} \# X(\dF_{q^n}) t^n =  t\frac{d}{dt} \log\left(\frac{1}{\det(1-\Phi^\ast t, \h(X))}\right) \text{.}
\]
Applying $\exp\left(\int \frac{dt}{t}\right)$ to both sides yields the formula 
$Z(X,t) = \det(1-\Phi^\ast t,\h(X))^{-1}$. So we know that 
$Z(X,t)$, a priori a power series over $\dQ$, is a rational function over 
$\dQ_\ell$. That is, $Z(X,t)\in \dQ\llbracket t\rrbracket \cap \dQ_\ell(t)$. 
The theory of Hankel determinants (see exercise one from \S 4 in 
\cite[A.IV]{bo90}) shows that $Z(X,t)\in \dQ(t)$. 

This proof can be easily generalized. Let $k$ be an arbitrary field, $X$ a nice 
variety over $k$. Fix a prime $\ell$ invertible in $k$, and write 
$\h(X)$ for $\h^\bullet(X_{\bar k},\dQ_\ell)$. For a surjective morphism 
$f:X\to X$, let $\Gamma_f\subset X\times X$ be the graph of $f$, and let 
$\Delta_X\subset X\times X$ be the diagonal. There is the \emph{relative zeta 
function of $X$ with respect to $f$}: 
\[
  Z(X,f,t) = \exp\left(\int \sum_{n\geqslant 1} (\Gamma_{f^n}\cdot \Delta_X) t^n\,\frac{dt}{t}\right) \text{.}
\]
One has a generalized trace formula (\cite[ex.11]{dj-wc} and \cite[IV.3.3]{de77}):
\[
  (\Gamma_{f^n}\cdot \Delta_X) = \trace({f^\ast}^n, \h(X))
\]
Exactly as before, it follows that $Z(X,f,t) = \det(1-f^\ast t,\h(X))^{-1}$. 

A more fruitful (but more difficult) generalization of the Weil conjectures 
involves the Grothendieck ring of varieties. Let $\mathsf{Var}_{\dF_q}$ denote 
the category of all varieties over $\dF_q$. Write 
$\mathbf K=K_0(\mathsf{Var}_{\dF_q})$ for the quotient of the free abelian 
group on isomorphism classes of varieties over $\dF_q$ by relations of the 
form $[X]=[Y]+[U]$ whenever $Y\subset X$ is a closed subvariety and 
$U=X\smallsetminus Y$. The ring $\mathbf K$ has a natural product operation 
induced by $[X]\cdot [Y] = [X\times Y]$. If we had started with an 
algebraically closed field of characteristic zero, $\mathbf K$ would be 
generated by smooth projective varieties -- see \cite{bi04}.
For a variety $X$ over $\dF_q$, it is a theorem that 
$\# X(\dF_{q^n}) = \# \operatorname{Sym}^n(X)(\dF_q)$ (see 
\cite[III.2.11]{de77} for a colossal generalization). This motivates our 
definition of the \emph{motivic zeta function} of $X$ as 
\[
  \zeta(X,t) = \sum_{n\geqslant 0} [\operatorname{Sym}^n(X)] t^n \in \Lambda(\mathbf K) = 1+t\mathbf K\llbracket t\rrbracket \text{.}
\]
One can ask whether $\zeta(X,t)$ is a rational function over 
$\mathbf K$, but this turns out to be false in general. 





\subsection{Computing zeta functions}

Let $C$ be a nice curve of genus $g$ over $\dF_q$, $J$ the jacobian of $C$. We 
have 
\[
  P_J(t) = t^{2g} + a_1 t^{2g-1} + \cdots + a_g t^g + a_{g-1} q t^{g-1} + a_{g-2} q^2 t^{g-2} + \cdots + a_t q^{g-1} t + q^g \text{.}
\]
In particular, $t^{2g} P_J(1/t)$ is congruent to 
$1+\cdots + a_g t^g$ modulo $t^{g+1}$. Thus 
\begin{align*}
  1+ a_1 t + \cdots + a_g t^g &\equiv (1-t)(1-q t)Z(C,t) \\
    &\equiv (1-t)(1-q t)\exp\left(\sum_{n\geqslant 1} \# C(\dF_{q^n}) \frac{t^n}{n}\right) \pmod{t^{g+1}}
\end{align*}
The values $\# C(\dF_q),\dots,\# C(\dF_{q^g})$ determine $a_1,\dots,a_g$, and 
hence $P_J(t)$ and $Z(C,t)$ are determined by 
$\# C(\dF_{q^r})$ for $r\leqslant g$. 


\begin{example}
Let $C$ be the nice curve over $\dF_p$ arising from 
$y^2=x^6-x^3+x+1$. (The projective closure of the zero set of this polynomial 
has a singularity, so we have to blow it up once.) 
Let $J$ be the jacobian of $C$. We have 
\[
  P_J(t) = t^4 + a_1 t^3 + a_2 t^2 + q a_1 t + p^2 
\]
and 
\[
  1+a_1 t + a_2 t^2 \equiv (1-t)(1-p t)\exp\left(\# C(\dF_p)t + \# C(\dF_{p^2}) \frac{t^2}{2}\right) \pmod{t^3}
\]
For $p=3$, one can compute $\# C(\dF_3) = 7$, $\# C(\dF_9) = 13$. Thus 
\[
  1+a_1 t + a_2 t^2 \equiv (1-t)(1-3 t)\exp\left(7 t+13\frac{t^2}{2}\right) \equiv 1+3 t+6 t^2 \pmod{t^3}
\]
It follows that $P_J(t) = t^4+3 t^3+6 t^2 + 9 t+9$. This factors as 
$(t^2+3)(t^2+3 t+3)$. 

From this, we see that $J$ is isogenous to a product of non-isogenous elliptic 
curves. 

If $p=5$, one can brute-force $\# C(\dF_5) = 9$, $\# C(\dF_{25}) = 19$. The 
same process yields the irreducible polynomial 
\[
  P_J(t) = t^4 + 3 t^3 + t^2 + 15 t + 25 \text{.}
\]
Thus $J$ is a simple abelian variety of dimension $2$. As a consequence, there 
is no nonconstant morphism $C\to E$, where $E$ is an elliptic curve. If there 
was, we would get a nonconstant morphism $J\to E$, the kernel of which would be 
a nontrivial abelian subvariety of $J$ (at least after taking its connected 
component). 

We claim that $J$ is geometrically simple. We want $P_{\dF_{5^n}}$ to be 
irreducible for all $n$. For, this would imply that $J_{\dF_{5^n}}$ is simple, 
for each $n$and hence $J_{\bar\dF_5}$ is simple. Let $\omega$ be a root of 
$P_J(t)$. We know that $\dQ(\omega)/\dQ$ is a degree-four extension. We 
want $\dQ(\omega^n) = \dQ(\omega)$. We claim that 
$\dQ(\omega)$ has only the subfields $\dQ(\sqrt 5)$ and $\dQ$. So if 
$\dQ(\omega^n)\ne\dQ(\omega$, then $\omega^n$ is real, i.e. 
$\omega^n=\pm 5^{n/2}$. This implies $\omega=\zeta\sqrt 5$ for $\zeta$ a 
root of unity, whence $\zeta\in \dQ(\omega)$. One can show that the 
extension $\dQ(\omega)/\dQ$ is not Galois, so 
$\zeta\in \dQ(\sqrt 5)$, so $\zeta=\pm 1$, whence 
$\omega = \pm \sqrt 5$, which cannot be the case. 
\end{example}


% Package '7390-style'
% written by Daniel Miller, fall 2013
% 
% This package is pretty simple. It has the following macros for special fonts:
%  \c? -> \mathcal{?}
%  \d? -> \mathbb{?} or \mathbf{?} (if pazo option is invoked)
%  \f? -> \mathfrak{?}
%  \s? -> \mathscr{?}
% 
% The only option is 'pazo' which uses the mathpazo font and mathbf instead of 
% mathbb. 

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{7390-style}

\RequirePackage{
  amsmath,
  amssymb,
  amsthm,
  fullpage,
  mathrsfs,
  microtype,
  sagetex,
  stmaryrd
}
\RequirePackage[pdfpagelabels,backref=page]{hyperref}
\RequirePackage[all]{xy}
\newcommand{\myboldfont}{\mathbb}

% uses mathpazo and mathbf
\newif\if@loadpazo\@loadpazofalse
\DeclareOption{pazo}{
  \@loadpazotrue
}

% produce warning if unknown option called
\DeclareOption*{
  \PackageWarning{7390-notes}{Unknown option '\CurrentOption'}
}

\ProcessOptions\relax % end of options


% use mathpazo font it option 'pazo' was called
\if@loadpazo
  \RequirePackage{lmodern} % takes care of font-size warnings?
  \RequirePackage{mathpazo}
  \renewcommand{\myboldfont}{\mathbf}
\fi



% operators and special functions
  \DeclareMathOperator{\aut}{Aut}
  \DeclareMathOperator{\brauer}{Br}
  \DeclareMathOperator{\divisor}{Div}
  \DeclareMathOperator{\End}{End}
  \DeclareMathOperator{\gal}{Gal}
  \DeclareMathOperator{\h}{H}     % (co)homology
  \DeclareMathOperator{\im}{im}   % image of a map
  \DeclareMathOperator{\jac}{Jac} % jacobian of a curve
  \DeclareMathOperator{\ord}{ord}
  \DeclareMathOperator{\picard}{Pic}
  \DeclareMathOperator{\rank}{rk}
  \DeclareMathOperator{\regulator}{Reg}
  \DeclareMathOperator{\selmer}{Sel}
  \DeclareMathOperator{\spec}{Spec}
  \DeclareMathOperator{\sheaf}{Sh}
  \DeclareMathOperator{\trace}{tr}
  \DeclareMathOperator{\volume}{vol}

% special symbols: a new way of defining them!
  \newcounter{char}
  \setcounter{char}{1}
  \loop\ifnum\value{char}<27
    \expandafter\edef\csname c\Alph{char}\endcsname{\noexpand\mathcal{\Alph{char}}}      % mathcal
    \expandafter\edef\csname d\Alph{char}\endcsname{\noexpand\myboldfont{\Alph{char}}}   % mathbb / mathbf
    \expandafter\edef\csname f\Alph{char}\endcsname{\noexpand\mathfrak{\Alph{char}}}     % mathfrak
    \expandafter\edef\csname s\Alph{char}\endcsname{\noexpand\mathscr{\Alph{char}}}      % mathscr
    \addtocounter{char}{1}
  \repeat
% can't do the previous for lower-case mathfrak because \fi is already defined 
% (otherwise, could do \alph instead of \Alph above)
  \def\mydeff#1{\expandafter\def\csname f#1\endcsname{\mathfrak{#1}}}
  \def\mydefallf#1{\ifx#1\mydefallf\else\mydeff#1\expandafter\mydefallf\fi}
  \mydefallf abcdefghjklmnopqrstuvwxyz\mydefallf
  
% miscellanies commands and symbols
  \newcommand{\et}[1]{{#1}_\textnormal{\'et}}
  \newcommand{\lau}[1]{(\!({#1})\!)}
% Tate-Shafarevich groups
  \DeclareFontFamily{U}{wncy}{}
  \DeclareFontShape{U}{wncy}{m}{n}{<->wncyr10}{}
  \DeclareSymbolFont{mcy}{U}{wncy}{m}{n}
  \DeclareMathSymbol{\sha}{\mathord}{mcy}{"58}  
  \newcommand{\smat}[4]{\left(\begin{smallmatrix} #1 & #2 \\ #3 & #4 \end{smallmatrix} \right)}

% theorems, definitions, ...
  \newtheorem{conjecture}[subsubsection]{Conjecture}
  \newtheorem{corollary}[subsubsection]{Corollary}
  \newtheorem{lemma}[subsubsection]{Lemma}
  \newtheorem{theorem}[subsubsection]{Theorem}
  \newtheorem{definition}[subsubsection]{Definition}
  \theoremstyle{definition} % contents are not italic
  \newtheorem{example}[subsubsection]{Example}
  %\newtheorem{question}[conjecture]{Question}
  %\newtheorem{remark}[subsection]{Remark}



\endinput % end of style 


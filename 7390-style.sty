% !TEX root = 7390-notes.tex

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{7390-style}

\RequirePackage{
  amsmath,
  amssymb,
  amsthm,
  fullpage,
  mathrsfs,
  microtype,
  sagetex,
  stmaryrd
}
\RequirePackage[pdfpagelabels,backref=page]{hyperref}
\RequirePackage[all]{xy}

% uses mathpazo and mathbf
\newif\if@loadpazo\@loadpazofalse
\DeclareOption{pazo}{
  \@loadpazotrue
  \newcommand{\myboldfont}{\mathbf}
}

% my 'standard' style
\DeclareOption{normal}{
  \newcommand{\myboldfont}{\mathbb}
}

% produce warning if unknown option called
\DeclareOption*{
  \PackageWarning{7390-notes}{Unknown option '\CurrentOption'}
}

\ProcessOptions\relax


% use mathpazo font it option 'pazo' was called
\if@loadpazo
  \RequirePackage{lmodern} % takes care of font-size warnings?
  \RequirePackage{mathpazo}
\fi



% operators and special functions
  \DeclareMathOperator{\aut}{Aut}
  \DeclareMathOperator{\brauer}{Br}
  \DeclareMathOperator{\divisor}{Div}
  \DeclareMathOperator{\End}{End}
  \DeclareMathOperator{\gal}{Gal}
  \DeclareMathOperator{\h}{H}
  \DeclareMathOperator{\im}{im}
  \DeclareMathOperator{\jac}{Jac}
  \DeclareMathOperator{\ord}{ord}
  \DeclareMathOperator{\picard}{Pic}
  \DeclareMathOperator{\rank}{rk}
  \DeclareMathOperator{\selmer}{Sel}
  \DeclareMathOperator{\spec}{Spec}
  \DeclareMathOperator{\sheaf}{Sh}
  \DeclareMathOperator{\trace}{tr}

% special symbols: a new way of defining them!
  \newcounter{char}
  \setcounter{char}{1}
  \loop\ifnum\value{char}<27
    \expandafter\edef\csname c\Alph{char}\endcsname{\noexpand\mathcal{\Alph{char}}}      % mathcal
    \expandafter\edef\csname d\Alph{char}\endcsname{\noexpand\myboldfont{\Alph{char}}}   % mathbb / mathbf
    \expandafter\edef\csname f\Alph{char}\endcsname{\noexpand\mathfrak{\Alph{char}}}     % mathfrak
    \expandafter\edef\csname s\Alph{char}\endcsname{\noexpand\mathscr{\Alph{char}}}      % mathscr
    \addtocounter{char}{1}
  \repeat
% can't do the previous for lower-case mathfrak because \fi is already defined 
% (otherwise, could do \alph instead of \Alph above)
  \def\mydeff#1{\expandafter\def\csname f#1\endcsname{\mathfrak{#1}}}
  \def\mydefallf#1{\ifx#1\mydefallf\else\mydeff#1\expandafter\mydefallf\fi}
  \mydefallf abcdefghjklmnopqrstuvwxyz\mydefallf
  
  \newcommand{\et}[1]{{#1}_\textnormal{\'et}}
  \newcommand{\lau}[1]{(\!({#1})\!)}
% Tate-Shafarevich groups
  \DeclareFontFamily{U}{wncy}{}
  \DeclareFontShape{U}{wncy}{m}{n}{<->wncyr10}{}
  \DeclareSymbolFont{mcy}{U}{wncy}{m}{n}
  \DeclareMathSymbol{\sha}{\mathord}{mcy}{"58}  
  \newcommand{\smat}[4]{\Big(\begin{smallmatrix} #1 & #2 \\ #3 & #4 \end{smallmatrix} \Big)}

% theorems, definitions, ...
  \newtheorem{conjecture}[subsection]{Conjecture}
  \newtheorem{corollary}[subsection]{Corollary}
  \newtheorem{lemma}[subsection]{Lemma}
  \newtheorem{theorem}[subsection]{Theorem}
  \newtheorem{definition}[subsection]{Definition}
  \theoremstyle{definition}
  \newtheorem{example}[subsection]{Example}
  \newtheorem{question}[subsection]{Question}
  \newtheorem{remark}[subsection]{Remark}



\endinput



